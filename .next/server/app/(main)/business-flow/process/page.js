(()=>{var e={};e.id=434,e.ids=[434],e.modules={399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},209:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9348:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},412:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},5315:e=>{"use strict";e.exports=require("path")},5942:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var a=s(3003),r=s(4293),i=s(6550),l=s.n(i),n=s(6979),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let d=["",{children:["(main)",{children:["business-flow",{children:["process",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,7298)),"D:\\Code\\Business_Process_Management_Platform\\app\\(main)\\business-flow\\process\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8942)),"D:\\Code\\Business_Process_Management_Platform\\app\\(main)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,2075,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,6877)),"D:\\Code\\Business_Process_Management_Platform\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,2075,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\Code\\Business_Process_Management_Platform\\app\\(main)\\business-flow\\process\\page.tsx"],p={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/(main)/business-flow/process/page",pathname:"/business-flow/process",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5749:(e,t,s)=>{Promise.resolve().then(s.bind(s,3655))},3655:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>em});var a=s(8819),r=s(7266),i=s(5047),l=s(2288),n=s(772),o=s(9513),d=s(6557);let c=(0,d.Z)("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);function p({isOpen:e,onClose:t,onSelect:s}){let[i,d]=(0,r.useState)(null);return(0,a.jsx)(l.Vq,{open:e,onOpenChange:e=>!e&&t(),children:(0,a.jsxs)(l.cZ,{className:"sm:max-w-[550px]",children:[(0,a.jsx)(l.fK,{children:(0,a.jsx)(l.$N,{className:"text-xl",children:"选择流程类型"})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 py-6",children:[(0,a.jsx)("div",{className:`border rounded-lg p-6 cursor-pointer hover:border-blue-500 transition-colors ${"project"===i?"border-blue-500 bg-blue-50":"border-gray-200"}`,onClick:()=>d("project"),children:(0,a.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,a.jsx)(o.Z,{className:"w-16 h-16 text-blue-500 mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium mb-2",children:"项目流"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"适用于项目管理场景，包含任务分解、依赖关系、资源分配等功能。"})]})}),(0,a.jsx)("div",{className:`border rounded-lg p-6 cursor-pointer hover:border-blue-500 transition-colors ${"approval"===i?"border-blue-500 bg-blue-50":"border-gray-200"}`,onClick:()=>d("approval"),children:(0,a.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,a.jsx)(c,{className:"w-16 h-16 text-blue-500 mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium mb-2",children:"审批流"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"适用于各类审批场景，支持多级审批、条件判断、自动通知等功能。"})]})})]}),(0,a.jsxs)(l.cN,{children:[(0,a.jsx)(n.z,{variant:"outline",onClick:t,children:"取消"}),(0,a.jsx)(n.z,{onClick:()=>{i&&s(i)},disabled:!i,children:"下一步"})]})]})})}var u=s(7626),x=s.n(u),m=s(1996);let h=(0,d.Z)("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),f=(0,d.Z)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),g=(0,d.Z)("GitFork",[["circle",{cx:"12",cy:"18",r:"3",key:"1mpf1b"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["path",{d:"M18 9v2c0 .6-.4 1-1 1H7c-.6 0-1-.4-1-1V9",key:"1uq4wg"}],["path",{d:"M12 12v3",key:"158kv8"}]]);var v=s(1215);let b=(0,d.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var j=s(4432),y=s(3198),N=s(7673),w=s(4474),k=s(2561),_=s(8051),C=s(3095),S=s(825),z=s(699),R=s(441),P=s(8957),F=s(9625),D=s(3078),E=s(9815),M=s(5226),O=s(4214),I=s(2067),$=s(5664),Z=s(8260),A="Popover",[T,q]=(0,C.b)(A,[F.D7]),B=(0,F.D7)(),[V,H]=T(A),L=e=>{let{__scopePopover:t,children:s,open:i,defaultOpen:l,onOpenChange:n,modal:o=!1}=e,d=B(t),c=r.useRef(null),[p,u]=r.useState(!1),[x,m]=(0,I.T)({prop:i,defaultProp:l??!1,onChange:n,caller:A});return(0,a.jsx)(F.fC,{...d,children:(0,a.jsx)(V,{scope:t,contentId:(0,P.M)(),triggerRef:c,open:x,onOpenChange:m,onOpenToggle:r.useCallback(()=>m(e=>!e),[m]),hasCustomAnchor:p,onCustomAnchorAdd:r.useCallback(()=>u(!0),[]),onCustomAnchorRemove:r.useCallback(()=>u(!1),[]),modal:o,children:s})})};L.displayName=A;var Y="PopoverAnchor";r.forwardRef((e,t)=>{let{__scopePopover:s,...i}=e,l=H(Y,s),n=B(s),{onCustomAnchorAdd:o,onCustomAnchorRemove:d}=l;return r.useEffect(()=>(o(),()=>d()),[o,d]),(0,a.jsx)(F.ee,{...n,...i,ref:t})}).displayName=Y;var W="PopoverTrigger",G=r.forwardRef((e,t)=>{let{__scopePopover:s,...r}=e,i=H(W,s),l=B(s),n=(0,_.e)(t,i.triggerRef),o=(0,a.jsx)(M.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":el(i.open),...r,ref:n,onClick:(0,k.M)(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?o:(0,a.jsx)(F.ee,{asChild:!0,...l,children:o})});G.displayName=W;var K="PopoverPortal",[X,Q]=T(K,{forceMount:void 0}),U=e=>{let{__scopePopover:t,forceMount:s,children:r,container:i}=e,l=H(K,t);return(0,a.jsx)(X,{scope:t,forceMount:s,children:(0,a.jsx)(E.z,{present:s||l.open,children:(0,a.jsx)(D.h,{asChild:!0,container:i,children:r})})})};U.displayName=K;var J="PopoverContent",ee=r.forwardRef((e,t)=>{let s=Q(J,e.__scopePopover),{forceMount:r=s.forceMount,...i}=e,l=H(J,e.__scopePopover);return(0,a.jsx)(E.z,{present:r||l.open,children:l.modal?(0,a.jsx)(es,{...i,ref:t}):(0,a.jsx)(ea,{...i,ref:t})})});ee.displayName=J;var et=(0,O.Z8)("PopoverContent.RemoveScroll"),es=r.forwardRef((e,t)=>{let s=H(J,e.__scopePopover),i=r.useRef(null),l=(0,_.e)(t,i),n=r.useRef(!1);return r.useEffect(()=>{let e=i.current;if(e)return(0,$.Ry)(e)},[]),(0,a.jsx)(Z.Z,{as:et,allowPinchZoom:!0,children:(0,a.jsx)(er,{...e,ref:l,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,k.M)(e.onCloseAutoFocus,e=>{e.preventDefault(),n.current||s.triggerRef.current?.focus()}),onPointerDownOutside:(0,k.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,s=0===t.button&&!0===t.ctrlKey,a=2===t.button||s;n.current=a},{checkForDefaultPrevented:!1}),onFocusOutside:(0,k.M)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),ea=r.forwardRef((e,t)=>{let s=H(J,e.__scopePopover),i=r.useRef(!1),l=r.useRef(!1);return(0,a.jsx)(er,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(i.current||s.triggerRef.current?.focus(),t.preventDefault()),i.current=!1,l.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(i.current=!0,"pointerdown"!==t.detail.originalEvent.type||(l.current=!0));let a=t.target;s.triggerRef.current?.contains(a)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&l.current&&t.preventDefault()}})}),er=r.forwardRef((e,t)=>{let{__scopePopover:s,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:n,onEscapeKeyDown:o,onPointerDownOutside:d,onFocusOutside:c,onInteractOutside:p,...u}=e,x=H(J,s),m=B(s);return(0,z.EW)(),(0,a.jsx)(R.M,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:l,children:(0,a.jsx)(S.XB,{asChild:!0,disableOutsidePointerEvents:n,onInteractOutside:p,onEscapeKeyDown:o,onPointerDownOutside:d,onFocusOutside:c,onDismiss:()=>x.onOpenChange(!1),children:(0,a.jsx)(F.VY,{"data-state":el(x.open),role:"dialog",id:x.contentId,...m,...u,ref:t,style:{...u.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ei="PopoverClose";function el(e){return e?"open":"closed"}r.forwardRef((e,t)=>{let{__scopePopover:s,...r}=e,i=H(ei,s);return(0,a.jsx)(M.WV.button,{type:"button",...r,ref:t,onClick:(0,k.M)(e.onClick,()=>i.onOpenChange(!1))})}).displayName=ei,r.forwardRef((e,t)=>{let{__scopePopover:s,...r}=e,i=B(s);return(0,a.jsx)(F.Eh,{...i,...r,ref:t})}).displayName="PopoverArrow";var en=s(7863);let eo=r.forwardRef(({className:e,align:t="center",sideOffset:s=4,...r},i)=>(0,a.jsx)(U,{children:(0,a.jsx)(ee,{ref:i,align:t,sideOffset:s,className:(0,en.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...r})}));eo.displayName=ee.displayName;let ed=[{id:"start",label:"开始节点",color:"bg-blue-400",type:"start",isDeletable:!1,isEditable:!1},{id:"end",label:"结束节点",color:"bg-blue-400",type:"end",isDeletable:!1,isEditable:!1},{id:"projectNode",label:"项目节点",color:"bg-blue-600",type:"task"},{id:"approvalNode",label:"审批节点",color:"bg-red-600",type:"approval"},{id:"conditionBranch",label:"条件分支",color:"bg-purple-600",type:"branch_trigger"},{id:"decision",label:"条件判断",color:"bg-purple-400",type:"decision",isDeletable:!0,isEditable:!0},{id:"merge",label:"合并点",color:"bg-purple-400",type:"merge",isDeletable:!0,isEditable:!0}],ec=(e="id_")=>`${e}${Date.now()}_${Math.random().toString(36).substr(2,9)}`;function ep({processType:e,flowId:t,businessFlowId:s,onSave:i,onPublish:o,onCancel:d}){let[c,p]=(0,r.useState)(()=>[{id:"start",type:"start",label:"开始",description:"流程开始",position:{x:400,y:100},color:ed.find(e=>"start"===e.id)?.color,isDeletable:!1,isEditable:!1},{id:"end",type:"end",label:"结束",description:"流程结束",position:{x:400,y:300},color:ed.find(e=>"end"===e.id)?.color,isDeletable:!1,isEditable:!1}]),[u,k]=(0,r.useState)(()=>[{id:ec("conn_"),source:"start",target:"end"}]),[_,C]=(0,r.useState)(null),[S,z]=(0,r.useState)(null),[R,P]=(0,r.useState)(!1),[F,D]=(0,r.useState)(!1),[E,M]=(0,r.useState)({x:0,y:0}),[O,I]=(0,r.useState)(!1),[$,Z]=(0,r.useState)(null),[A,T]=(0,r.useState)({x:0,y:0}),[q,B]=(0,r.useState)({width:2e3,height:1500}),[V,H]=(0,r.useState)(.8),[Y,W]=(0,r.useState)({x:100,y:50}),[K,X]=(0,r.useState)("新流程"),[Q,U]=(0,r.useState)(""),[J,ee]=(0,r.useState)(!1),[et,es]=(0,r.useState)(!1),[ea,er]=(0,r.useState)(null),[ei,el]=(0,r.useState)(null),en=(0,r.useRef)(null),ep=e=>{C(e),P(!0)},eu=e=>{z(e),D(!0)},ex=e=>{p(c.map(t=>t.id===e.id?e:t)),P(!1)},em=e=>{k(u.map(t=>t.id===e.id?e:t)),D(!1)},eh=e=>{let t=c.find(t=>t.id===e);if(!t)return;if(!1===t.isDeletable||"start"===t.type||"end"===t.type){console.warn("Start, End, or non-deletable nodes cannot be deleted.");return}let s=[e],a=[];if("decision"===t.type){let t=u.filter(t=>t.source===e),r=t.map(e=>e.target);a.push(...t.map(e=>e.id)),s.push(...r);let i={};for(let e of r){let t=u.filter(t=>t.source===e);for(let e of(a.push(...t.map(e=>e.id)),t))c.find(t=>t.id===e.target)?.type==="merge"&&(i[e.target]=(i[e.target]||0)+1)}for(let e in i)if(c.find(t=>t.id===e)&&u.filter(t=>t.target===e).length===u.filter(t=>t.target===e&&r.includes(t.source)).length){s.push(e);let t=u.filter(t=>t.source===e);a.push(...t.map(e=>e.id))}}p(e=>e.filter(e=>!s.includes(e.id))),k(e=>e.filter(e=>!s.includes(e.source)&&!s.includes(e.target)&&!a.includes(e.id)))},ef=e=>{k(u.filter(t=>t.id!==e))},eg=(e,t)=>{e.stopPropagation();let s=c.find(e=>e.id===t);if(s&&(I(!0),Z(t),en.current)){let t=en.current.getBoundingClientRect(),a=(e.clientX-t.left-Y.x)/V,r=(e.clientY-t.top-Y.y)/V;T({x:s.position.x-a,y:s.position.y-r})}},ev=()=>{I(!1),Z(null)},eb=e=>{if(console.log(`Inserting node type: ${e}`),es(!1),!ei){console.error("No connection selected to split");return}let t=c.find(e=>e.id===ei.source),s=c.find(e=>e.id===ei.target);if(!t||!s){console.error("Source or target node not found");return}let a=[],r=[],i=(t.position.x+s.position.x)/2,l=(t.position.y+s.position.y)/2;if("projectNode"===e||"approvalNode"===e){let s=ed.find(t=>t.id===e);if(!s)return;let n={id:ec("node_"),type:s.type,label:s.label,description:"",position:{x:i-90,y:l-35},color:s.color,isDeletable:!0,isEditable:!0};a=[n],r=[{id:ec("conn_"),source:ei.source,target:n.id},{id:ec("conn_"),source:n.id,target:ei.target}],p(e=>e.map(e=>e.id===n.id?n:e.position.y>t.position.y?{...e,position:{...e.position,y:e.position.y+170}}:e).concat(a))}else if("conditionBranch"===e){let e={id:ec("decision_"),type:"decision",label:"条件判断",description:"",position:{x:i-90,y:l-35},color:ed.find(e=>"decision"===e.type)?.color,isDeletable:!0,isEditable:!0},s={id:ec("branch1_"),type:"task",label:"分支 A",description:"",position:{x:i-200-90,y:l+100},color:ed.find(e=>"task"===e.type)?.color,isDeletable:!0,isEditable:!0},n={id:ec("branch2_"),type:"task",label:"分支 B",description:"",position:{x:i+200-90,y:l+100},color:ed.find(e=>"task"===e.type)?.color,isDeletable:!0,isEditable:!0},o={id:ec("merge_"),type:"merge",label:"合并",description:"",position:{x:i-90,y:l+200+70},color:ed.find(e=>"merge"===e.type)?.color,isDeletable:!0,isEditable:!0};a=[e,s,n,o],r=[{id:ec("conn_"),source:ei.source,target:e.id},{id:ec("conn_"),source:e.id,target:s.id,label:"条件 A"},{id:ec("conn_"),source:e.id,target:n.id,label:"条件 B"},{id:ec("conn_"),source:s.id,target:o.id},{id:ec("conn_"),source:n.id,target:o.id},{id:ec("conn_"),source:o.id,target:ei.target}],p(e=>e.map(e=>a.find(t=>t.id===e.id)?e:e.position.y>t.position.y?{...e,position:{...e.position,y:e.position.y+340}}:e).concat(a))}k(e=>[...e.filter(e=>e.id!==ei.id),...r]),"projectNode"===e||"approvalNode"===e||"conditionBranch"===e&&a.length>0||p(e=>e.concat(a.filter(t=>!e.find(e=>e.id===t.id)))),el(null)};return(0,a.jsxs)("div",{className:"jsx-5e19c0a42a62c49a flex flex-col h-full overflow-hidden",children:[(0,a.jsxs)("div",{className:"jsx-5e19c0a42a62c49a flex justify-between items-center p-4 border-b bg-white",children:[(0,a.jsxs)("div",{className:"jsx-5e19c0a42a62c49a flex items-center space-x-4",children:[(0,a.jsx)(j.I,{value:J?"加载中...":K,onChange:e=>X(e.target.value),className:"w-64 text-lg font-semibold",placeholder:"流程名称",disabled:J}),(0,a.jsxs)("div",{className:"jsx-5e19c0a42a62c49a text-sm text-gray-500",children:["(类型: ","project"===e?"项目流":"审批流",")"]}),(0,a.jsx)(j.I,{value:Q,onChange:e=>U(e.target.value),className:"w-80 text-sm",placeholder:"输入流程描述..."})]}),(0,a.jsxs)("div",{className:"jsx-5e19c0a42a62c49a flex items-center space-x-2",children:[(0,a.jsx)(n.z,{variant:"outline",size:"icon",onClick:()=>{H(e=>Math.max(e-.1,.5))},title:"缩小",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5e19c0a42a62c49a",children:(0,a.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12",className:"jsx-5e19c0a42a62c49a"})})}),(0,a.jsxs)("span",{className:"jsx-5e19c0a42a62c49a text-sm w-10 text-center",children:[Math.round(100*V),"%"]}),(0,a.jsx)(n.z,{variant:"outline",size:"icon",onClick:()=>{H(e=>Math.min(e+.1,2))},title:"放大",children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5e19c0a42a62c49a",children:[(0,a.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19",className:"jsx-5e19c0a42a62c49a"}),(0,a.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12",className:"jsx-5e19c0a42a62c49a"})]})}),(0,a.jsx)(n.z,{variant:"outline",size:"sm",onClick:d,children:"取消"}),(0,a.jsxs)(n.z,{variant:"default",size:"sm",onClick:()=>{i({nodes:c,connections:u,metadata:{name:K,description:Q,processType:e,businessFlowId:s,id:t||`flow_${Date.now()}`,lastModified:new Date().toISOString()}})},disabled:J,children:[(0,a.jsx)(v.Z,{className:"w-4 h-4 mr-2"}),"保存"]})]})]}),(0,a.jsx)("div",{className:"jsx-5e19c0a42a62c49a flex flex-1 overflow-hidden",children:(0,a.jsx)("div",{onClick:e=>{if(en.current&&e.target===en.current.firstChild){let t=en.current.getBoundingClientRect();M({x:(e.clientX-t.left-Y.x)/V,y:(e.clientY-t.top-Y.y)/V}),C(null),z(null)}},onMouseMove:e=>{if(!O||!$||!en.current)return;let t=en.current.getBoundingClientRect(),s=(e.clientX-t.left-Y.x)/V,a=(e.clientY-t.top-Y.y)/V;p(c.map(e=>e.id===$?{...e,position:{x:s+A.x,y:a+A.y}}:e))},onMouseUp:ev,onMouseLeave:ev,ref:en,className:"jsx-5e19c0a42a62c49a flex-1 relative overflow-hidden bg-dots",children:(0,a.jsxs)("div",{style:{transform:`translate(${Y.x}px, ${Y.y}px) scale(${V})`,width:`${q.width}px`,height:`${q.height}px`},className:"jsx-5e19c0a42a62c49a absolute transition-transform origin-top-left",children:[(0,a.jsxs)("svg",{width:q.width,height:q.height,className:"jsx-5e19c0a42a62c49a absolute top-0 left-0 pointer-events-none",children:[(0,a.jsx)("defs",{className:"jsx-5e19c0a42a62c49a",children:(0,a.jsx)("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9.5",refY:"3.5",orient:"auto",markerUnits:"strokeWidth",className:"jsx-5e19c0a42a62c49a",children:(0,a.jsx)("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#888",className:"jsx-5e19c0a42a62c49a"})})}),u.map(e=>{let t=c.find(t=>t.id===e.source),s=c.find(t=>t.id===e.target);if(!t||!s)return null;let r=t.position.x+90,i=t.position.y+70,l=s.position.x+90,o=s.position.y,d=i+100/1.5,p=o-100/1.5,u=`M ${r} ${i} C ${r} ${d}, ${l} ${p}, ${l} ${o}`,x=.125*r+.375*r+.375*l+.125*l,v=.125*i+.375*d+.375*p+.125*o;return(0,a.jsxs)("g",{className:"connection-group",children:[(0,a.jsx)("path",{d:u,fill:"none",stroke:S?.id===e.id?"#3b82f6":"#9ca3af",strokeWidth:"2.5",markerEnd:"url(#arrowhead)",onClick:()=>eu(e),className:"cursor-pointer"}),e.label&&(0,a.jsx)("text",{x:(r+l)/2,y:(i+o)/2-8,textAnchor:"middle",fill:"#666",fontSize:"12",className:"pointer-events-none",children:e.label}),(0,a.jsxs)(L,{open:et&&ei?.id===e.id,onOpenChange:e=>{e||(es(!1),el(null),er(null))},children:[(0,a.jsx)(G,{asChild:!0,children:(0,a.jsx)("foreignObject",{x:x-15,y:v-15,width:"30",height:"30",children:(0,a.jsx)("button",{title:"添加节点",className:"p-0 w-7 h-7 bg-white border-2 border-blue-500 rounded-full flex items-center justify-center hover:bg-blue-50 hover:border-blue-600 hover:scale-110 shadow-md text-blue-600 hover:text-blue-800 add-node-btn-on-connection transition-all duration-200",onClick:t=>{t.stopPropagation(),el(e),er(t.currentTarget),es(!0)},children:(0,a.jsx)(m.Z,{size:16})})})}),(0,a.jsxs)(eo,{className:"w-auto p-2 space-y-1 shadow-lg bg-white rounded-md border border-gray-200 z-50",align:"center",side:"bottom",sideOffset:5,avoidCollisions:!0,children:[(0,a.jsxs)(n.z,{variant:"ghost",className:"w-full justify-start text-sm h-9 px-2 font-medium hover:bg-blue-50 hover:text-blue-700 flex items-center",onClick:()=>{eb("projectNode"),es(!1)},children:[(0,a.jsx)(h,{size:16,className:"mr-2"}),(0,a.jsx)("span",{children:"项目节点"})]}),(0,a.jsxs)(n.z,{variant:"ghost",className:"w-full justify-start text-sm h-9 px-2 font-medium hover:bg-red-50 hover:text-red-700 flex items-center",onClick:()=>{eb("approvalNode"),es(!1)},children:[(0,a.jsx)(f,{size:16,className:"mr-2"}),(0,a.jsx)("span",{children:"审批节点"})]}),(0,a.jsxs)(n.z,{variant:"ghost",className:"w-full justify-start text-sm h-9 px-2 font-medium hover:bg-purple-50 hover:text-purple-700 flex items-center",onClick:()=>{eb("conditionBranch"),es(!1)},children:[(0,a.jsx)(g,{size:16,className:"mr-2"}),(0,a.jsx)("span",{children:"条件分支"})]})]})]})]},e.id)})]}),c.map(e=>(0,a.jsx)("div",{style:{left:e.position.x,top:e.position.y,width:180,minHeight:70},onClick:t=>{t.stopPropagation(),ep(e)},onMouseDown:t=>eg(t,e.id),className:`jsx-5e19c0a42a62c49a absolute cursor-grab border rounded-lg shadow-lg text-white p-1 ${e.color||"bg-slate-500"} hover:shadow-xl active:cursor-grabbing`,children:(0,a.jsxs)("div",{className:"jsx-5e19c0a42a62c49a p-2",children:[(0,a.jsx)("div",{title:e.label,className:"jsx-5e19c0a42a62c49a font-semibold text-sm truncate",children:e.label}),e.description&&(0,a.jsx)("div",{title:e.description,className:"jsx-5e19c0a42a62c49a text-xs opacity-80 mt-1 truncate",children:e.description}),e.assignee&&(0,a.jsxs)("div",{className:"jsx-5e19c0a42a62c49a text-xs mt-1 opacity-70",children:["负责人: ",e.assignee]})]})},e.id))]})})}),(0,a.jsx)(l.Vq,{open:R,onOpenChange:P,children:(0,a.jsxs)(l.cZ,{className:"sm:max-w-md",children:[(0,a.jsx)(l.fK,{children:(0,a.jsxs)(l.$N,{children:['编辑 "',_?.label||"节点",'"']})}),_&&(0,a.jsxs)("div",{className:"jsx-5e19c0a42a62c49a space-y-4 py-4",children:[(0,a.jsxs)("div",{className:"jsx-5e19c0a42a62c49a grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(y._,{htmlFor:"node-label",className:"text-right text-sm",children:"名称"}),(0,a.jsx)(j.I,{id:"node-label",value:_.label,onChange:e=>C({..._,label:e.target.value}),className:"col-span-3 text-sm",disabled:!1===_.isEditable})]}),(0,a.jsxs)("div",{className:"jsx-5e19c0a42a62c49a grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(y._,{htmlFor:"node-description",className:"text-right text-sm",children:"描述"}),(0,a.jsx)(N.g,{id:"node-description",value:_.description,onChange:e=>C({..._,description:e.target.value}),className:"col-span-3 text-sm",rows:3,disabled:!1===_.isEditable})]}),("task"===_.type||"approval"===_.type||"projectNode"===_.type||"approvalNode"===_.type)&&(0,a.jsxs)("div",{className:"jsx-5e19c0a42a62c49a grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(y._,{htmlFor:"node-assignee",className:"text-right text-sm",children:"负责人"}),(0,a.jsx)(j.I,{id:"node-assignee",value:_.assignee||"",onChange:e=>C({..._,assignee:e.target.value}),className:"col-span-3 text-sm",placeholder:"输入负责人名称",disabled:!1===_.isEditable})]}),("approval"===_.type||"approvalNode"===_.type)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"jsx-5e19c0a42a62c49a grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(y._,{htmlFor:"approval-type",className:"text-right text-sm",children:"审批类型"}),(0,a.jsxs)(w.Ph,{value:_.approvalType||"single",onValueChange:e=>C({..._,approvalType:e}),disabled:!1===_.isEditable,children:[(0,a.jsx)(w.i4,{className:"col-span-3 text-sm",children:(0,a.jsx)(w.ki,{placeholder:"选择审批类型"})}),(0,a.jsxs)(w.Bw,{children:[(0,a.jsx)(w.Ql,{value:"single",children:"单人审批 (一人通过即可)"}),(0,a.jsx)(w.Ql,{value:"all",children:"会签 (所有人需通过)"}),(0,a.jsx)(w.Ql,{value:"sequential",children:"依次审批 (按顺序)"}),(0,a.jsx)(w.Ql,{value:"majority",children:"多数表决"})]})]})]}),(0,a.jsxs)("div",{className:"jsx-5e19c0a42a62c49a grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(y._,{htmlFor:"node-approvers",className:"text-right text-sm",children:"审批人"}),(0,a.jsx)(j.I,{id:"node-approvers",value:(_.approvers||[]).join(", "),onChange:e=>C({..._,approvers:e.target.value.split(",").map(e=>e.trim()).filter(e=>e)}),className:"col-span-3 text-sm",placeholder:"输入审批人ID/角色, 逗号分隔",disabled:!1===_.isEditable})]}),"sequential"===_.approvalType&&(0,a.jsxs)("div",{className:"jsx-5e19c0a42a62c49a grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(y._,{htmlFor:"node-approval-order",className:"text-right text-sm",children:"审批顺序"}),(0,a.jsx)(j.I,{id:"node-approval-order",value:(_.approvalOrder||[]).join(", "),onChange:e=>C({..._,approvalOrder:e.target.value.split(",").map(e=>e.trim()).filter(e=>e)}),className:"col-span-3 text-sm",placeholder:"按顺序输入审批人ID/角色",disabled:!1===_.isEditable})]}),(0,a.jsxs)("div",{className:"jsx-5e19c0a42a62c49a grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(y._,{htmlFor:"node-due-date",className:"text-right text-sm",children:"截止日期"}),(0,a.jsx)(j.I,{id:"node-due-date",type:"text",value:_.dueDate||"",onChange:e=>C({..._,dueDate:e.target.value}),className:"col-span-3 text-sm",placeholder:"例如: 2023-12-31 或 2天后",disabled:!1===_.isEditable})]}),(0,a.jsxs)("div",{className:"jsx-5e19c0a42a62c49a grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)("div",{className:"jsx-5e19c0a42a62c49a col-span-1"})," ",(0,a.jsxs)("div",{className:"jsx-5e19c0a42a62c49a col-span-3 space-y-2",children:[(0,a.jsxs)("div",{className:"jsx-5e19c0a42a62c49a flex items-center space-x-2",children:[(0,a.jsx)(j.I,{type:"checkbox",id:"node-require-rejection-comments",checked:_.requireCommentsForRejection||!1,onChange:e=>C({..._,requireCommentsForRejection:e.target.checked}),className:"h-4 w-4",disabled:!1===_.isEditable}),(0,a.jsx)(y._,{htmlFor:"node-require-rejection-comments",className:"text-sm font-normal",children:"拒绝时必须填写评论"})]}),(0,a.jsxs)("div",{className:"jsx-5e19c0a42a62c49a flex items-center space-x-2",children:[(0,a.jsx)(j.I,{type:"checkbox",id:"node-allow-approval-comments",checked:_.allowCommentsForApproval||!1,onChange:e=>C({..._,allowCommentsForApproval:e.target.checked}),className:"h-4 w-4",disabled:!1===_.isEditable}),(0,a.jsx)(y._,{htmlFor:"node-allow-approval-comments",className:"text-sm font-normal",children:"允许通过时填写评论"})]})]})]})]}),"task"===_.type&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"jsx-5e19c0a42a62c49a grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(y._,{htmlFor:"project-lead",className:"text-right text-sm",children:"项目负责人"}),(0,a.jsx)(j.I,{id:"project-lead",value:_.projectLead||"",onChange:e=>C({..._,projectLead:e.target.value}),className:"col-span-3 text-sm",placeholder:"输入项目负责人ID/名称",disabled:!1===_.isEditable})]}),(0,a.jsxs)("div",{className:"jsx-5e19c0a42a62c49a grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(y._,{htmlFor:"project-tasks",className:"text-right text-sm",children:"任务列表"}),(0,a.jsx)(N.g,{id:"project-tasks",value:_.tasks||"",onChange:e=>C({..._,tasks:e.target.value}),className:"col-span-3 text-sm",rows:4,placeholder:"每行一个任务描述 后续可升级为结构化任务管理",disabled:!1===_.isEditable})]}),(0,a.jsxs)("div",{className:"jsx-5e19c0a42a62c49a grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(y._,{htmlFor:"project-overall-due-date",className:"text-right text-sm",children:"项目截止日"}),(0,a.jsx)(j.I,{id:"project-overall-due-date",type:"date",value:_.overallDueDate||"",onChange:e=>C({..._,overallDueDate:e.target.value}),className:"col-span-3 text-sm",disabled:!1===_.isEditable})]})]})]}),(0,a.jsxs)(l.cN,{className:"mt-2 flex justify-between items-center",children:[_?.type!=="start"&&_?.type!=="end"&&_?.isDeletable!==!1&&(0,a.jsxs)(n.z,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{_&&eh(_.id),P(!1)},children:[(0,a.jsx)(b,{className:"w-4 h-4 mr-1.5"}),"删除节点"]}),!(_?.type!=="start"&&_?.type!=="end"&&_?.isDeletable!==!1)&&(0,a.jsx)("div",{className:"jsx-5e19c0a42a62c49a flex-grow"})," ",(0,a.jsxs)("div",{className:"jsx-5e19c0a42a62c49a flex space-x-2",children:[(0,a.jsx)(n.z,{variant:"outline",size:"sm",onClick:()=>P(!1),children:"取消"}),(0,a.jsx)(n.z,{size:"sm",onClick:()=>{_&&ex(_)},children:"确认更改"})]})]})]})}),(0,a.jsx)(l.Vq,{open:F,onOpenChange:D,children:(0,a.jsxs)(l.cZ,{className:"sm:max-w-md",children:[(0,a.jsx)(l.fK,{children:(0,a.jsx)(l.$N,{children:"编辑连接属性"})}),S&&(0,a.jsxs)("div",{className:"jsx-5e19c0a42a62c49a space-y-4 py-4",children:[(0,a.jsxs)("div",{className:"jsx-5e19c0a42a62c49a grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(y._,{htmlFor:"connection-label",className:"text-right text-sm",children:"标签"}),(0,a.jsx)(j.I,{id:"connection-label",value:S.label||"",onChange:e=>z({...S,label:e.target.value}),className:"col-span-3 text-sm",placeholder:"例如：是、否、通过"})]}),S&&(c.find(e=>e.id===S.source)?.type==="decision"||c.find(e=>e.id===S.source)?.type==="approvalNode")&&(0,a.jsxs)("div",{className:"jsx-5e19c0a42a62c49a grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(y._,{htmlFor:"connection-condition",className:"text-right text-sm",children:"分支条件"}),(0,a.jsx)(N.g,{id:"connection-condition",value:S.condition||"",onChange:e=>z({...S,condition:e.target.value}),className:"col-span-3 text-sm",rows:2,placeholder:"例如：金额 > 10000"})]})]}),(0,a.jsxs)(l.cN,{className:"mt-2 flex justify-between items-center",children:[(0,a.jsxs)(n.z,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{S&&ef(S.id),D(!1)},children:[(0,a.jsx)(b,{className:"w-4 h-4 mr-1.5"}),"删除连接"]}),(0,a.jsxs)("div",{className:"jsx-5e19c0a42a62c49a flex space-x-2",children:[(0,a.jsx)(n.z,{variant:"outline",size:"sm",onClick:()=>D(!1),children:"取消"}),(0,a.jsx)(n.z,{size:"sm",onClick:()=>{S&&em(S)},children:"确认更改"})]})]})]})}),(0,a.jsx)(x(),{id:"5e19c0a42a62c49a",children:".bg-dots{background-image:-webkit-radial-gradient(#9ca3af .7px,transparent 1px);background-image:-moz-radial-gradient(#9ca3af .7px,transparent 1px);background-image:-o-radial-gradient(#9ca3af .7px,transparent 1px);background-image:radial-gradient(#9ca3af .7px,transparent 1px);-webkit-background-size:20px 20px;-moz-background-size:20px 20px;-o-background-size:20px 20px;background-size:20px 20px;background-color:#f8fafc}.connection-group:hover .add-node-btn-on-connection{opacity:1;-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}.add-node-btn-on-connection{opacity:0;-webkit-transform:scale(.9);-moz-transform:scale(.9);-ms-transform:scale(.9);-o-transform:scale(.9);transform:scale(.9);-webkit-transition:all.2s ease-in-out;-moz-transition:all.2s ease-in-out;-o-transition:all.2s ease-in-out;transition:all.2s ease-in-out}.connection-group{cursor:pointer}.connection-group:hover path{stroke-width:3;stroke:#3b82f6}"})]})}function eu(){return(0,a.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-current border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"}),(0,a.jsx)("p",{className:"mt-2 text-gray-500",children:"正在加载流程设计器..."})]})})}function ex(){let e=(0,i.useRouter)(),t=(0,i.useSearchParams)(),s=t?.get("flowId"),l=t?.get("businessFlowId")||"",n=t?.get("defaultType"),[o,d]=(0,r.useState)(n),[c,u]=(0,r.useState)(!s&&!n),[x,m]=(0,r.useState)(!1),h=()=>{window.confirm("确定要取消吗？未保存的更改将会丢失。")&&e.back()},f=async t=>{try{m(!0),console.log("Saving process flow data:",t),await new Promise(e=>setTimeout(e,1e3)),alert("流程保存成功"),m(!1),l?e.push(`/business-flow/${l}`):e.push("/business-flow")}catch(e){console.error("Error saving process flow:",e),alert("保存失败，请重试"),m(!1)}},g=async()=>{alert("发布功能尚未实现")};return x?(0,a.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-current border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"}),(0,a.jsx)("p",{className:"mt-2 text-gray-500",children:"正在加载..."})]})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p,{isOpen:c,onClose:h,onSelect:e=>{d(e),u(!1)}}),o&&(0,a.jsx)("div",{className:"h-full flex flex-col",children:(0,a.jsx)(ep,{processType:o,flowId:s||void 0,businessFlowId:l||void 0,onSave:f,onPublish:g,onCancel:h})})]})}function em(){return(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)(eu,{}),children:(0,a.jsx)(ex,{})})}},772:(e,t,s)=>{"use strict";s.d(t,{z:()=>o});var a=s(8819),r=s(7266),i=s(9360),l=s(7863);let n=(0,i.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-slate-900 text-slate-50 hover:bg-slate-900/90",destructive:"bg-red-500 text-slate-50 hover:bg-red-500/90",outline:"border border-slate-200 bg-white hover:bg-slate-100 hover:text-slate-900",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-100/80",ghost:"hover:bg-slate-100 hover:text-slate-900",link:"text-slate-900 underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef(({className:e,variant:t,size:s,asChild:r=!1,...i},o)=>(0,a.jsx)("button",{className:(0,l.cn)(n({variant:t,size:s,className:e})),ref:o,...i}));o.displayName="Button"},2288:(e,t,s)=>{"use strict";s.d(t,{$N:()=>h,Vq:()=>o,cN:()=>m,cZ:()=>u,fK:()=>x,hg:()=>d});var a=s(8819),r=s(7266),i=s(8958),l=s(4019),n=s(7863);let o=i.fC,d=i.xz,c=i.h_;i.x8;let p=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.aV,{ref:s,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));p.displayName=i.aV.displayName;let u=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(c,{children:[(0,a.jsx)(p,{}),(0,a.jsxs)(i.VY,{ref:r,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-slate-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,(0,a.jsxs)(i.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-slate-100 data-[state=open]:text-slate-500",children:[(0,a.jsx)(l.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));u.displayName=i.VY.displayName;let x=({className:e,...t})=>(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});x.displayName="DialogHeader";let m=({className:e,...t})=>(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});m.displayName="DialogFooter";let h=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.Dx,{ref:s,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));h.displayName=i.Dx.displayName,r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.dk,{ref:s,className:(0,n.cn)("text-sm text-slate-500",e),...t})).displayName=i.dk.displayName},4432:(e,t,s)=>{"use strict";s.d(t,{I:()=>l});var a=s(8819),r=s(7266),i=s(7863);let l=r.forwardRef(({className:e,type:t,customStyles:s,...r},l)=>(0,a.jsx)("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e,s),ref:l,...r}));l.displayName="Input"},3198:(e,t,s)=>{"use strict";s.d(t,{_:()=>n});var a=s(8819),r=s(7266),i=s(4478),l=s(7863);let n=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.f,{ref:s,className:(0,l.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));n.displayName=i.f.displayName},4474:(e,t,s)=>{"use strict";s.d(t,{Bw:()=>h,Ph:()=>c,Ql:()=>f,i4:()=>u,ki:()=>p});var a=s(8819),r=s(7266),i=s(1128),l=s(941),n=s(6633),o=s(2933),d=s(7863);let c=i.fC;i.ZA;let p=i.B4,u=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(i.xz,{ref:r,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,(0,a.jsx)(i.JO,{asChild:!0,children:(0,a.jsx)(l.Z,{className:"h-4 w-4 opacity-50"})})]}));u.displayName=i.xz.displayName;let x=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.u_,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,a.jsx)(n.Z,{className:"h-4 w-4"})}));x.displayName=i.u_.displayName;let m=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.$G,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,a.jsx)(l.Z,{className:"h-4 w-4"})}));m.displayName=i.$G.displayName;let h=r.forwardRef(({className:e,children:t,position:s="popper",...r},l)=>(0,a.jsx)(i.h_,{children:(0,a.jsxs)(i.VY,{ref:l,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-slate-200 bg-white text-slate-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[(0,a.jsx)(x,{}),(0,a.jsx)(i.l_,{className:(0,d.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,a.jsx)(m,{})]})}));h.displayName=i.VY.displayName,r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.__,{ref:s,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=i.__.displayName;let f=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(i.ck,{ref:r,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(i.wU,{children:(0,a.jsx)(o.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(i.eT,{children:t})]}));f.displayName=i.ck.displayName,r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.Z0,{ref:s,className:(0,d.cn)("-mx-1 my-1 h-px bg-slate-100",e),...t})).displayName=i.Z0.displayName},7673:(e,t,s)=>{"use strict";s.d(t,{g:()=>l});var a=s(8819),r=s(7266),i=s(7863);let l=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));l.displayName="Textarea"},1215:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},8472:()=>{},1596:(e,t,s)=>{"use strict";s(8472);var a=s(7266),r=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(a),i="undefined"!=typeof process&&process.env&&!0,l=function(e){return"[object String]"===Object.prototype.toString.call(e)},n=function(){function e(e){var t=void 0===e?{}:e,s=t.name,a=void 0===s?"stylesheet":s,r=t.optimizeForSpeed,n=void 0===r?i:r;o(l(a),"`name` must be a string"),this._name=a,this._deletedRulePlaceholder="#"+a+"-deleted-rule____{}",o("boolean"==typeof n,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=n,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0,this._nonce=null}var t=e.prototype;return t.setOptimizeForSpeed=function(e){o("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),o(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},t.isOptimizeForSpeed=function(){return this._optimizeForSpeed},t.inject=function(){var e=this;o(!this._injected,"sheet already injected"),this._injected=!0,this._serverSheet={cssRules:[],insertRule:function(t,s){return"number"==typeof s?e._serverSheet.cssRules[s]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),s},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},t.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},t.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},t.insertRule=function(e,t){return o(l(e),"`insertRule` accepts only strings"),"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++},t.replaceRule=function(e,t){this._optimizeForSpeed;var s=this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!s.cssRules[e])return e;s.deleteRule(e);try{s.insertRule(t,e)}catch(a){i||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),s.insertRule(this._deletedRulePlaceholder,e)}return e},t.deleteRule=function(e){this._serverSheet.deleteRule(e)},t.flush=function(){this._injected=!1,this._rulesCount=0,this._serverSheet.cssRules=[]},t.cssRules=function(){return this._serverSheet.cssRules},t.makeStyleTag=function(e,t,s){t&&o(l(t),"makeStyleTag accepts only strings as second parameter");var a=document.createElement("style");this._nonce&&a.setAttribute("nonce",this._nonce),a.type="text/css",a.setAttribute("data-"+e,""),t&&a.appendChild(document.createTextNode(t));var r=document.head||document.getElementsByTagName("head")[0];return s?r.insertBefore(a,s):r.appendChild(a),a},function(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(e.prototype,[{key:"length",get:function(){return this._rulesCount}}]),e}();function o(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var d=function(e){for(var t=5381,s=e.length;s;)t=33*t^e.charCodeAt(--s);return t>>>0},c={};function p(e,t){if(!t)return"jsx-"+e;var s=String(t),a=e+s;return c[a]||(c[a]="jsx-"+d(e+"-"+s)),c[a]}function u(e,t){var s=e+(t=t.replace(/\/style/gi,"\\/style"));return c[s]||(c[s]=t.replace(/__jsx-style-dynamic-selector/g,e)),c[s]}var x=a.createContext(null);x.displayName="StyleSheetContext",r.default.useInsertionEffect||r.default.useLayoutEffect;var m=void 0;function h(e){var t=m||a.useContext(x);return t&&t.add(e),null}h.dynamic=function(e){return e.map(function(e){return p(e[0],e[1])}).join(" ")},t.style=h},7626:(e,t,s)=>{"use strict";e.exports=s(1596).style},7298:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>e});var r=s(1851);let e=(await (0,r.createProxy)(String.raw`D:\Code\Business_Process_Management_Platform\app\(main)\business-flow\process\page.tsx`)).default;a()}catch(e){a(e)}},1)}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[267,83,281,633,284],()=>s(5942));module.exports=a})();